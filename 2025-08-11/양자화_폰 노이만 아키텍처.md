## 양자화(Quantization)를 통한 모델 최적화

### 양자화의 개념

양자화는 모델의 정보량을 줄이기 위해 활용하는 최적화 기법입니다. 특히 LLM과 같이 크기가 큰 모델을 작은 메모리에 적재하기 위해 많이 사용됩니다. 양자화는 데이터 타입의 정밀도를 낮추어 메모리 사용량을 줄이는 방식으로 작동합니다.

### 부동소수점 표현

- **Float32(32비트 부동소수점)**
    - 1비트: 부호(sign)
    - 8비트: 지수부(exponent)
    - 23비트: 가수부(mantissa)
    - 메모리 사용: 4바이트
- **Float16(16비트 부동소수점)**
    - 1비트: 부호
    - 5비트: 지수부
    - 10비트: 가수부
    - 메모리 사용: 2바이트
- **Int8(8비트 정수)**
    - 범위: -128부터 127까지
    - 2^(n-1)부터 2^(n-1)-1까지의 범위를 가짐
    - 메모리 사용: 1바이트

### 양자화의 장점

- **모델 크기 감소**: 낮은 정밀도 데이터는 더 적은 공간을 차지하여 모델 파일 크기가 줄어듭니다
- **추론 속도 향상**: 낮은 정밀도 연산은 일반적으로 더 빠르며, 특히 하드웨어 가속 지원이 가능합니다
- **메모리 사용량 감소**: 모델 실행 시 필요한 RAM이나 GPU 메모리 사용이 줄어들어 메모리 제한적 환경에서도 모델 배포가 용이합니다
- **전력 소모 감소**: 연산량과 데이터 이동량 감소로 전력 효율성이 증가합니다

### 양자화의 단점

- **정밀도 손실**: 정보량이 감소하여 모델의 예측 정확도가 떨어질 수 있습니다
- **소수점 이하 정보 손실**: 정수형으로 변환 시 소수점 이하 정보가 손실됩니다


## 폰 노이만 아키텍처 (Von Neumann Architecture)

- **개념**: 현대 컴퓨터 구조의 기반이 되는 모델. 수학자 존 폰 노이만이 제안.
- **핵심 특징 (프로그램 내장 방식 - Stored-Program Concept)**:
    - **프로그램(명령어)** 과 **데이터**가 **동일한 메모리 공간**에 저장됨. 💾
    - CPU는 메모리에서 명령어를 하나씩 **순차적으로** 가져와(Fetch) 해석하고(Decode) 실행(Execute)함. (Fetch-Decode-Execute Cycle) 🔄
- **장점**: 구조가 간단하고 프로그램 변경이 용이 (메모리 내용만 바꾸면 됨). 범용 컴퓨터 구현 가능.
- **단점 (폰 노이만 병목 현상 - Von Neumann Bottleneck)**:
    - CPU가 명령어와 데이터에 접근하기 위해 **동일한 버스(통로)** 를 사용함. 🚌
    - CPU 속도에 비해 메모리 접근 속도가 느려서, CPU가 메모리를 기다리는 시간이 발생하여 **전체 성능이 제한**될 수 있음. 🐢🔴
- **현대 컴퓨터**: 기본적인 폰 노이만 구조를 따르지만, 캐시 메모리, 명령어 파이프라이닝 등 다양한 기술로 병목 현상을 완화하려 노력함. (하버드 아키텍처 - 명령어/데이터 버스 분리 - 와 비교되기도 함)
